<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <title>Learning Pixi.js</title>
    </head>
    <script src="js/pixi.js"></script>
    <body>
        <script type="text/javascript">
            let Application = PIXI.Application,
                loader = PIXI.loader,
                resources = PIXI.loader.resources,
                Sprite = PIXI.Sprite,
                Text = PIXI.Text,
                TextStyle = PIXI.TextStyle;
            let type="WebGL";
            if(!PIXI.utils.isWebGLSupported()) {
                type = "canvas";
            }

            let app = new Application({
                width:640, 
                height: 480,
                antialias: true,
                transparent: false,
                resolution: 1}
            );
            document.body.appendChild(app.view);

            let crew, enemy, nocrew;
            loader
                .add([
                    "img/crew.png",
                    "img/enemy.png",
                    "img/nochar.png"
                ])
                .load(setup);

            function setup() {
                crew = new Sprite(
                    resources["img/crew.png"].texture
                );
                enemy = new Sprite(
                    resources["img/enemy.png"].texture
                );
                enemy.x = 64;
                enemy.y = 64;
                nocrew = new Sprite(
                    resources["img/nochar.png"].texture
                );
                nocrew.x = 128;
                nocrew.y = 128;

                let style = new TextStyle({
                    fontFamily: "AT&T 4425",
                    fontSize: 36,
                    fill: "goldenrod",
                    stroke:'goldenrod',
                    strokeThickness: 1,
                    dropShadow: true,
                    dropShadowColor: "#333333",
                    dropShadowBlur: 2,
                    dropShadowAngle: Math.PI / 3,
                    dropShadowDistance: 2,
                });
                let text = new Text("Hello, World!", style);
                text.position.set(30, 90);
                app.stage.addChild(text);

                app.stage.addChild(crew);
                app.stage.addChild(enemy);
                app.stage.addChild(nocrew);

                app.ticker.add(delta => gameLoop(delta));
            }

            function gameLoop(delta) {
                crew.x += 1;
                enemy.y += 1;
                nocrew.x +=1;
                nocrew.y -= 1;
            }
        </script>
    </body>
</html>