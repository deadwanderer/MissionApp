<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Test layout</title>
    <script type="text/javascript" src="knockout.js"></script>
    <script type="text/javascript" src="test.js"></script>
    <link rel="stylesheet" type="text/css" href="test.css">
</head>

<body>
    <table style="min-width: 1250px">
        <tr>
            <td colspan="2">
                <table data-bind="template: { name: 'crew-group' }"></table>
            </td>
            <td style="width: 75px"></td>
            <td colspan="2" style="float:right">
                <table data-bind="template: { name: 'enemy-group' }"></table>
            </td>
        </tr>
        <tr data-bind="visible: movesVisible">
            <th colspan="5">Available Moves</th>
        </tr>
        <tr data-bind="visible: movesVisible, template: { name: 'moves-group' }">

        </tr>
    </table>

    <!-- Individual enemy unit template -->
    <script type="text/html" id="enemy-each">
        <tr data-bind="visible: isVisible">
            <td data-bind="text: name"></td>
        </tr>
        <tr data-bind="visible: isVisible">
            <td><img src="enemy.png"></td>
        </tr>
        <tr data-bind="visible: isVisible">
            <td>
                <div class='myProgress'><div class='myBar' data-bind="style: { width: healthPercentage }"></div><span class='barText'></span></div>
            </td>
        </tr>
    </script>

    <!-- Individual crew unit template -->
    <script type="text/html" id="crew-each">

        <tr data-bind="visible: isVisible">
            <td data-bind="text: name"></td>
        </tr>
        <tr data-bind="visible: isVisible">
            <td><img src="crew.png"></td>
        </tr>
        <tr data-bind="visible: isVisible">
            <td>
                <div class='myProgress'><div class='myBar' data-bind="style: { width: healthPercentage }"></div><span class='barText'></span></div>
            </td>
        </tr>
    </script>

    <!-- Enemy group template -->
    <script type="text/html" id="enemy-group">
        <tr>
            <td>
                <table data-bind="template: { name: 'enemy-each', foreach: enemies, as: 'enemy' }"></table>
            </td>
        </tr>
    </script>

    <!-- Crew group template -->
    <script type="text/html" id="crew-group">
        <tr>
            <td>
                <table data-bind="template: { name: 'crew-each', foreach: crew, as: 'member' }"></table>
            </td>
        </tr>
    </script>

    <!-- Moves template -->
    <script type="text/html" id="moves-group">
        <td data-bind="foreach: availableMoves">
            <span data-bind="text: moveName"></span>
            <span data-bind="text: moveCost"></span>
        </td>
    </script>
    
    <script>
        var game = new MyBattleModel;
        ko.applyBindings(game);
        game.init();
        </script>
</body>

</html>